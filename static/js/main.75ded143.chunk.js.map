{"version":3,"sources":["components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Conteiner/Conteiner.module.css","components/ImageGallery/ImageGallery.module.css","components/Conteiner/Conteiner.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","Services/Api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Conteiner","children","className","styles","conteiner","Button","onClick","type","button","ImageGalleryItem","url","name","ImageGalleryItemImage","src","alt","ImageGallery","gallery","bigImage","map","id","webformatURL","user","largeImageURL","Loader","color","height","width","timeout","Component","modalRoot","document","querySelector","Modal","hendleKeyDown","e","code","props","showModal","hendleBecdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","Searchbar","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","onChange","autoFocus","placeholder","axios","defaults","baseURL","Api","searchQuery","currentPage","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","App","largeImage","isLoading","error","onChangeQuery","fetchPictures","options","prevState","catch","finally","toggleModal","getBigImage","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.75ded143.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__724PK\",\"Loader\":\"Button_Loader__3tMY5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__WJXai\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__18XlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1LkzJ\",\"modal\":\"Modal_modal__1yF2z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"conteiner\":\"Conteiner_conteiner__2Rbg2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2sGwR\"};","import styles from './Conteiner.module.css';\r\n\r\nconst Conteiner = ({children}) =>(    \r\n    <div className={styles.conteiner} >        \r\n    {children}        \r\n    </div> \r\n)\r\n\r\nexport default Conteiner;","import styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {    \r\n    return(\r\n    <button type='button' onClick={onClick} className= {styles.button}>\r\n        Load more\r\n    </button>\r\n)}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,    \r\n  };\r\nexport default Button;","import styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst ImageGalleryItem = ({ url, name, onClick }) => (\r\n    <li className= {styles.ImageGalleryItem} >\r\n        <img className={styles.ImageGalleryItemImage} src= {url} alt={name} onClick={onClick} />\r\n    </li>\r\n)\r\nImageGalleryItem.propTypes = {\r\n    url: PropTypes.string.isRequired,    \r\n    name: PropTypes.string.isRequired,\r\n    onClick:PropTypes.func.isRequired,    \r\n  };\r\n\r\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({gallery, bigImage}) => (\r\n<ul className= {styles.ImageGallery}>\r\n  {gallery.map(({id, webformatURL, user, largeImageURL }) => {\r\n  const handleItemClick = () => bigImage(largeImageURL);\r\n  return(\r\n  <ImageGalleryItem key={id} name={user} url = {webformatURL} onClick={handleItemClick} />\r\n  )})\r\n  }\r\n</ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n  bigImage: PropTypes.func.isRequired,  \r\n};\r\nexport default ImageGallery;","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Load from \"react-loader-spinner\";\r\nimport { Component } from \"react\";\r\nimport styles from '../Button/Button.module.css';\r\n\r\n class Loader extends Component {    \r\n    render() {\r\n      return (\r\n        <Load\r\n          className={styles.Loader}\r\n          type=\"ThreeDots\" \r\n          color=\"#00BFFF\" \r\n          height={80} \r\n          width={80}        \r\n          timeout={3000} />\r\n      );\r\n    }\r\n  }\r\n\r\nexport default Loader;","import { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n  class Modal extends Component {\r\n    componentDidMount() {\r\n      window.addEventListener('keydown', this.hendleKeyDown);\r\n    }    \r\n    componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.hendleKeyDown);\r\n    }\r\n    hendleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.showModal();\r\n      }\r\n    };\r\n    hendleBecdropClick = e => {\r\n      if (e.currentTarget === e.target) {\r\n        this.props.showModal();\r\n      }\r\n    };\r\n\r\n    render(){\r\n      return createPortal(\r\n        <div className={styles.overlay} onClick={this.hendleBecdropClick} >\r\n          <div className={styles.modal} >\r\n            {this.props.children}            \r\n          </div>\r\n        </div>,\r\n        modalRoot,\r\n      );\r\n    }\r\n  }\r\nexport default Modal;","import { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: ''\r\n  };\r\n  handleChange = e => {\r\n    this.setState({query:e.currentTarget.value});\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({query:''})\r\n  }\r\n\r\n  render(){\r\n    return(\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit = {this.handleSubmit} >\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\" \r\n          value={this.state.query}\r\n          onChange={this.handleChange}     \r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst KEY = '20658315-dd3dbd2a0550adf6d5ae10318';\r\n\r\n  const Api = ({searchQuery = '', currentPage = 1 }) => {   \r\n  return axios.get(\r\n    `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,)\r\n    .then(response => response.data.hits);    \r\n  };\r\n\r\n  Api.propTypes = {\r\n    searchQuery: PropTypes.string.isRequired,    \r\n    currentPage: PropTypes.number.isRequired,    \r\n  };\r\n\r\n \r\n\r\n  export default Api;","import { Component } from 'react';\nimport Conteiner from './components/Conteiner';\nimport Button from './components/Button';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport Api from './Services/Api';\n\nclass App extends Component {\nstate = {\n  gallery: [],\n  currentPage: 1,\n  searchQuery: '',\n  largeImage: '',\n  isLoading: false,\n  showModal: false,\n  error: null \n}\n\ncomponentDidUpdate(prevProps, prevState) {\n  if(prevState.searchQuery !== this.state.searchQuery) {\n    this.fetchPictures();\n  }\n  if (prevState.currentPage > 1 && prevState.currentPage !== this.state.currentPage ) {\n    window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n    });\n  }  \n}\nonChangeQuery = query =>{\n  this.setState({\n    searchQuery: query,\n    currentPage: 1,\n    gallery: [],\n    error: null,\n  }); \n}\n\nfetchPictures = () => {\n  const { currentPage, searchQuery } = this.state;\n  const options = { searchQuery,currentPage };\n  this.setState({isLoading: true });  \n  \n  Api(options)  \n  .then(gallery => {\n    this.setState(prevState => ({\n      gallery: [ ...prevState.gallery, ...gallery],\n      currentPage: prevState.currentPage + 1, \n    }));    \n  })\n  .catch(error => this.state({error}))\n  .finally(() => this.setState({isLoading: false }));\n};\n\ntoggleModal = () => {\n  this.setState(state => ({\n    showModal: !state.showModal,\n  }));\n};\n\ngetBigImage = (largeImage) => {\n  this.setState({ largeImage });\n  this.toggleModal();\n};\nrender(){\n  const { gallery, isLoading, showModal, largeImage, error } = this.state;\n  const shouldRenderLoadMoreButton = gallery.length > 0 && !isLoading;  \n  \n  return (\n  <Conteiner>\n    {error && <h1>{error}</h1>}\n    <Searchbar onSubmit={this.onChangeQuery} />\n    <ImageGallery gallery={gallery} bigImage={this.getBigImage} />   \n    {isLoading && <Loader/>   }\n    { shouldRenderLoadMoreButton && <Button onClick={this.fetchPictures} /> }  \n  \n    {showModal && <Modal showModal={this.getBigImage}>\n      <img src={largeImage} alt=\"Должна быть фотография\" />\n    </Modal>}\n  </Conteiner>\n  )};\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__u-YGp\",\"SearchForm\":\"Searchbar_SearchForm__1cYDs\",\"SearchFormButton\":\"Searchbar_SearchFormButton__pOTmC\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3ehr7\",\"SearchFormInput\":\"Searchbar_SearchFormInput__18AoT\"};"],"sourceRoot":""}