{"version":3,"sources":["components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Conteiner/Conteiner.module.css","components/ImageGallery/ImageGallery.module.css","components/Conteiner/Conteiner.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","Services/Api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Conteiner","children","className","styles","conteiner","Button","onClick","window","scrollTo","top","document","documentElement","scrollHeight","behavior","type","button","ImageGalleryItem","url","name","ImageGalleryItemImage","src","alt","ImageGallery","gallery","bigImage","map","id","webformatURL","user","largeImageURL","Loader","color","height","width","timeout","Component","modalRoot","querySelector","Modal","hendleKeyDown","e","code","props","showModal","hendleBecdropClick","currentTarget","target","addEventListener","this","removeEventListener","createPortal","overlay","modal","Searchbar","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","onChange","autoFocus","placeholder","axios","defaults","baseURL","Api","searchQuery","currentPage","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","App","largeImage","isLoading","error","onChangeQuery","fetchPictures","options","prevState","catch","finally","toggleModal","getBigImage","prevProps","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f508c055.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__724PK\",\"Loader\":\"Button_Loader__3tMY5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__WJXai\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__18XlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1LkzJ\",\"modal\":\"Modal_modal__1yF2z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"conteiner\":\"Conteiner_conteiner__2Rbg2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2sGwR\"};","import styles from './Conteiner.module.css';\r\n\r\nconst Conteiner = ({children}) =>(    \r\n    <div className={styles.conteiner} >        \r\n    {children}        \r\n    </div> \r\n)\r\n\r\nexport default Conteiner;","import styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n    window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n    });\r\n    return(\r\n    <button type='button' onClick={onClick} className= {styles.button}>\r\n        Load more\r\n    </button>\r\n)}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,    \r\n  };\r\nexport default Button;","import styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst ImageGalleryItem = ({ url, name, onClick }) => (\r\n    <li className= {styles.ImageGalleryItem} >\r\n        <img className={styles.ImageGalleryItemImage} src= {url} alt={name} onClick={onClick} />\r\n    </li>\r\n)\r\nImageGalleryItem.propTypes = {\r\n    url: PropTypes.string.isRequired,    \r\n    name: PropTypes.string.isRequired,\r\n    onClick:PropTypes.func.isRequired,    \r\n  };\r\n\r\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({gallery, bigImage}) => (\r\n<ul className= {styles.ImageGallery}>\r\n  {gallery.map(({id, webformatURL, user, largeImageURL }) => {\r\n  const handleItemClick = () => bigImage(largeImageURL);\r\n  return(\r\n  <ImageGalleryItem key={id} name={user} url = {webformatURL} onClick={handleItemClick} />\r\n  )})\r\n  }\r\n</ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(PropTypes.object).isRequired, \r\n  bigImage: PropTypes.func.isRequired,  \r\n};\r\nexport default ImageGallery;","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Load from \"react-loader-spinner\";\r\nimport { Component } from \"react\";\r\nimport styles from '../Button/Button.module.css';\r\n\r\n class Loader extends Component {    \r\n    render() {\r\n      return (\r\n        <Load\r\n          className={styles.Loader}\r\n          type=\"ThreeDots\" \r\n          color=\"#00BFFF\" \r\n          height={80} \r\n          width={80}        \r\n          timeout={3000} />\r\n      );\r\n    }\r\n  }\r\n\r\nexport default Loader;","import { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n  class Modal extends Component {\r\n    componentDidMount() {\r\n      window.addEventListener('keydown', this.hendleKeyDown);\r\n    }    \r\n    componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.hendleKeyDown);\r\n    }\r\n    hendleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.showModal();\r\n      }\r\n    };\r\n    hendleBecdropClick = e => {\r\n      if (e.currentTarget === e.target) {\r\n        this.props.showModal();\r\n      }\r\n    };\r\n\r\n    render(){\r\n      return createPortal(\r\n        <div className={styles.overlay} onClick={this.hendleBecdropClick} >\r\n          <div className={styles.modal} >\r\n            {this.props.children}            \r\n          </div>\r\n        </div>,\r\n        modalRoot,\r\n      );\r\n    }\r\n  }\r\nexport default Modal;","import { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: ''\r\n  };\r\n  handleChange = e => {\r\n    this.setState({query:e.currentTarget.value});\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({query:''})\r\n  }\r\n\r\n  render(){\r\n    return(\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit = {this.handleSubmit} >\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\" \r\n          value={this.state.query}\r\n          onChange={this.handleChange}     \r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst KEY = '20658315-dd3dbd2a0550adf6d5ae10318';\r\n\r\n  const Api = ({searchQuery = '', currentPage = 1 }) => {   \r\n  return axios.get(\r\n    `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,)\r\n    .then(response => response.data.hits);    \r\n  };\r\n\r\n  Api.propTypes = {\r\n    searchQuery: PropTypes.string.isRequired,    \r\n    currentPage: PropTypes.number.isRequired,    \r\n  };\r\n\r\n \r\n\r\n  export default Api;","import { Component } from 'react';\nimport Conteiner from './components/Conteiner';\nimport Button from './components/Button';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport Api from './Services/Api';\n\nclass App extends Component {\nstate = {\n  gallery: [],\n  currentPage: 1,\n  searchQuery: '',\n  largeImage: '',\n  isLoading: false,\n  showModal: false,\n  error: null \n}\n\ncomponentDidUpdate(prevProps, prevState) {\n  if(prevState.searchQuery !== this.state.searchQuery) {\n    this.fetchPictures();\n  }\n}\nonChangeQuery = query =>{\n  this.setState({\n    searchQuery: query,\n    currentPage: 1,\n    gallery: [],\n    error: null,\n  }); \n}\n\nfetchPictures = () => {\n  const { currentPage, searchQuery } = this.state;\n  const options = { searchQuery,currentPage };\n  this.setState({isLoading: true });\n\n  Api(options)  \n  .then(gallery => {\n    this.setState(prevState => ({\n      gallery: [ ...prevState.gallery, ...gallery],\n      currentPage: prevState.currentPage + 1, \n    }));    \n  })\n  .catch(error => this.state({error}))\n  .finally(() => this.setState({isLoading: false }));\n};\n\ntoggleModal = () => {\n  this.setState(state => ({\n    showModal: !state.showModal,\n  }));\n};\n\ngetBigImage = (largeImage) => {\n  this.setState({ largeImage });\n  this.toggleModal();\n};\nrender(){\n  const { gallery, isLoading, showModal, largeImage, error } = this.state;\n  const shouldRenderLoadMoreButton = gallery.length > 0 && !isLoading;  \n\n  return (\n  <Conteiner>\n    {error && <h1>{error}</h1>}\n    <Searchbar onSubmit={this.onChangeQuery} />\n    <ImageGallery gallery={gallery} bigImage={this.getBigImage} />   \n    {isLoading && <Loader/>   }\n    { shouldRenderLoadMoreButton && <Button onClick={this.fetchPictures} /> }  \n  \n    {showModal && <Modal showModal={this.getBigImage}>\n      <img src={largeImage} alt=\"Должна быть фотография\" />\n    </Modal>}\n  </Conteiner>\n  )};\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__u-YGp\",\"SearchForm\":\"Searchbar_SearchForm__1cYDs\",\"SearchFormButton\":\"Searchbar_SearchFormButton__pOTmC\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3ehr7\",\"SearchFormInput\":\"Searchbar_SearchFormInput__18AoT\"};"],"sourceRoot":""}